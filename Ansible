only on Master

$ sudo apt update
$ sudo apt install software-properties-common
$ sudo add-apt-repository --yes --update ppa:ansible/ansible
$ sudo apt install ansible -y

ssh-keygen

cd /home/ubuntu/.ssh/

cat id-rsa.gen

copy the public key and go to slave node type

sudo nano .ssh/authorized_keys

paste it in the nano file save and exit. (repeat the task for other slave node you have.)

goto Master cd /etc/ansible/hosts
ls
sudo nano hosts
clear everything in that file and type:
Slave1 ansible_host= private ip of slave nodes for example

[test]
Slave1 ansible_host=172.31.80.220
Slave2 ansible_host=172.31.81.91

cd

ansible -m ping all

sudo nano play1.yaml

ansible-playbook play1.yaml --syntax-check

ansible-playbook play1.yaml --check (to check whether runs without a failure)

ansible-playbook play1.yaml (run the playbook)


